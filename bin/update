#!/bin/bash

unamestr=$(uname)
case $unamestr in
  'Darwin')        # OSX
    brew update

  ;;

  'Linux')
    if [ `/usr/bin/id -u` -ne 0 ]; then
      echo "$0 must be run as root"
      exit 1
    fi

    if [ -f /etc/lsb-release ] ; then
      apt-get update
      apt-get safe-upgrade
    elif [ -f /etc/gentoo-release ] ; then
      emerge --update --deep --newuse world
      emerge --depclean
      revdep-rebuild
    else
      echo "unrecognized linux distro"
      exit 2
    fi

  ;;
esac
